<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>County Business Patterns in North Carolina 2001-2021 - 1&nbsp; Employment and average wages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cbp-establishments.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Employment and average wages</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">County Business Patterns in North Carolina 2001-2021</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cbp-employment-wages.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Employment and average wages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cbp-establishments.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Establishments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sector-observations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Sector observations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Notes</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#nc-employment-by-sector" id="toc-nc-employment-by-sector" class="nav-link active" data-scroll-target="#nc-employment-by-sector"><span class="toc-section-number">1.1</span>  NC employment by sector</a></li>
  <li><a href="#top-sectors-in-largest-nc-counties" id="toc-top-sectors-in-largest-nc-counties" class="nav-link" data-scroll-target="#top-sectors-in-largest-nc-counties"><span class="toc-section-number">1.2</span>  Top sectors in largest NC counties</a></li>
  <li><a href="#trends-in-employment" id="toc-trends-in-employment" class="nav-link" data-scroll-target="#trends-in-employment"><span class="toc-section-number">1.3</span>  Trends in employment</a></li>
  <li><a href="#trends-in-employment---counties" id="toc-trends-in-employment---counties" class="nav-link" data-scroll-target="#trends-in-employment---counties"><span class="toc-section-number">1.4</span>  Trends in employment - counties</a></li>
  <li><a href="#trends-in-average-wages-statewide" id="toc-trends-in-average-wages-statewide" class="nav-link" data-scroll-target="#trends-in-average-wages-statewide"><span class="toc-section-number">1.5</span>  Trends in average wages statewide</a></li>
  <li><a href="#sec-tables" id="toc-sec-tables" class="nav-link" data-scroll-target="#sec-tables"><span class="toc-section-number">1.6</span>  Tables</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Employment and average wages</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="nc-employment-by-sector" class="level2 page-columns page-full" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="nc-employment-by-sector"><span class="header-section-number">1.1</span> NC employment by sector</h2>
<p>In the state-level data for 2021 the CBP reported 3,903,814 workers in 20 NAICS categories, which are summarized in <a href="#sec-tables"><span>Section&nbsp;1.6</span></a>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, emp)) </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>nc_naics_abbr_levels <span class="ot">=</span> <span class="fu">levels</span>(data_for_plot<span class="sc">$</span>naics_abbr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> emp, <span class="at">y =</span> naics_abbr),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> carolina_blue, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"NC state employment by sector 2021"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Includes all 100 counties and 'Statewide'"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-state-employment-by-sector-count" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-employment-by-sector-count-1.png" class="img-fluid figure-img" alt="This bar plot lists employment sectors on the Y axis with counts of the number of employees in North Carolina in each in 2021. This information is available in table form in the last sction of this page." width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.1: NC state employment by sector 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The employment distribution across the sectors in NC and the USA overall is similar:</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">scope =</span> <span class="st">"nc"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  d_emp_sector_total_usa <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">scope =</span> <span class="st">"usa"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, naics_abbr, emp, pct_emp, scope) <span class="sc">|&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">factor</span>(naics_abbr, <span class="at">levels =</span> nc_naics_abbr_levels)) <span class="sc">|&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">low_value =</span> <span class="fu">min</span>(pct_emp),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">high_value =</span> <span class="fu">max</span>(pct_emp),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> naics_abbr) <span class="sc">|&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff_pct =</span> high_value <span class="sc">-</span> low_value,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">diff_pct =</span> <span class="fu">if_else</span>(pct_emp <span class="sc">==</span> high_value, diff_pct, <span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> diff_pct)) </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>diff_pct_cutoff <span class="ot">&lt;-</span> <span class="fl">0.005</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> low_value, <span class="at">xend =</span> high_value, <span class="at">y =</span> naics_abbr, <span class="at">yend =</span> naics_abbr),</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> naics_abbr, <span class="at">color =</span> scope),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> naics_abbr, <span class="at">color =</span> scope),</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> high_value, <span class="at">y =</span> naics_abbr,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">if_else</span>(diff_pct <span class="sc">&gt;</span> diff_pct_cutoff,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">percent</span>(pct_emp, <span class="at">accuracy =</span> .<span class="dv">1</span>),</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                                <span class="cn">NA_character_</span>)),</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">nudge_x =</span> <span class="fl">0.003</span>) <span class="sc">+</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> low_value, <span class="at">y =</span> naics_abbr,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">if_else</span>(diff_pct <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> diff_pct_cutoff,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">percent</span>(pct_emp, <span class="at">accuracy =</span> .<span class="dv">1</span>),</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>                                <span class="cn">NA_character_</span>)),</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>            <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">nudge_x =</span> <span class="sc">-</span><span class="fl">0.003</span>) <span class="sc">+</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(carolina_blue, <span class="st">"firebrick"</span>)) <span class="sc">+</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.4</span>),</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"grey80"</span>)) <span class="sc">+</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"NC state employment by sector</span><span class="sc">\n</span><span class="st">compared to USA 2021"</span>,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Includes all 100 counties and 'Statewide'"</span>, </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"; showing percentages where difference is &gt; {percent(diff_pct_cutoff, accuracy = 0.1)}"</span>),</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees"</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-state-employment-by-sector-pct-usa-compare" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-employment-by-sector-pct-usa-compare-1.png" class="img-fluid figure-img" alt="This plot lists employment sectors on the Y axis with points indicating the percent of the employment in North Carolina and all 50 states. The percentages are similar for both." width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.2: NC employment by sector compared to USA 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The CBP state data includes employee counts categorized by employee size class. The range is embedded in the name. For example, <code>e1_4</code> includes a count of employees working in establishments with 1-4 employees. Let’s assume that the average number of workers in each employment size class is about the midpoint of the class, and for <code>e1000</code> (“1000 or more employees) that the midpoint is 2000.</p>
<p>Then we can answer the question: from the perspective of workers, what are the most common employer size classes? Or asking another way: if one randomly selected a NC worker what is the probability the person would work in an establishment of a particular size class?</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_state_nc_total_size_classes <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(n_employees_ref <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">select</span>(<span class="sc">-</span>est_size_class),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"emp_size_class"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_size_class =</span> <span class="fu">fct_reorder</span>(emp_size_class, factor_order)) <span class="sc">|&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> emp_size_class),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> carolina_blue, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits=</span>rev) <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Percent of employees"</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Employee size class"</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_size_class =</span> <span class="fu">fct_reorder</span>(emp_size_class, pct_emp)) <span class="sc">|&gt;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(emp_size_class)) <span class="sc">|&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cum_pct_emp =</span> <span class="fu">cumsum</span>(pct_emp),</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">ybar_start =</span> <span class="fu">lag</span>(cum_pct_emp, <span class="at">default =</span> <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> emp_size_class, <span class="at">xend =</span> emp_size_class, <span class="at">y =</span> ybar_start, <span class="at">yend =</span> cum_pct_emp),</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> carolina_blue, <span class="at">linewidth =</span> <span class="dv">8</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits=</span>rev) <span class="sc">+</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employee size class"</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent of employees"</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percent of NC employees working for establishments</span><span class="sc">\n</span><span class="st">in each employee size class"</span>,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"2021; includes all sectors reported in CBP"</span>,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">#theme = theme(plot.title = element_text(size = 16))</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-state-workers" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-workers-1.png" class="img-fluid figure-img" alt="This bar chart lists employee size classes on the Y axis with percentage of employees in North Carolina in each in 2021. Size classes range from '1 to 4' up to '1000 or more'." width="1152"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.3: NC workers in each employee size class 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Further categorizing this data by industry sector reveals which industries have concentrations of workers in establishments of particular size classes. Employees in AccFood mostly work in establishments in the 10 to 100 employee range. In Retail there is a wider range: from very small to 499 employees and almost none larger. The industry sectors with the largest portion of employees working for the largest establishments are HeathSoc (hospital systems, I assume) and FinIns. Construction and ProfSciTech have the largest portion of employees in the sector working in 1-4 employee establishments.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_state_nc_size_classes <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(n_employees_ref <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">select</span>(<span class="sc">-</span>est_size_class),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"emp_size_class"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_size_class =</span> <span class="fu">factor</span>(emp_size_class, <span class="at">levels =</span> emp_size_class_levels),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">naics_abbr =</span> <span class="fu">fct_lump</span>(naics_abbr, <span class="at">n =</span> <span class="dv">9</span>, <span class="at">w =</span> emp)) </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> emp_size_class, <span class="at">fill =</span> naics_abbr),</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits=</span>rev) <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Percent of employees"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Employee size class"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> emp_size_class, <span class="at">fill =</span> naics_abbr),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="fu">position_fill</span>()) <span class="sc">+</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits=</span>rev) <span class="sc">+</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Distibution of size classes"</span>,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, emp, sum)) <span class="sc">|&gt;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> naics_abbr, <span class="at">fill =</span> emp_size_class),</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Percent of employees"</span>,</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, emp, sum)) <span class="sc">|&gt;</span> </span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> pct_emp, <span class="at">y =</span> naics_abbr, <span class="at">fill =</span> emp_size_class),</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="fu">position_fill</span>()) <span class="sc">+</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Distribution of NAICS categories"</span>,</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> (p3 <span class="sc">+</span> p4) <span class="sc">+</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percent of NC workers in each employee size class by sector"</span>,</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"2021; includes all sectors reported in CBP"</span>,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-state-establishments-employees-naics-pct-two-plot" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-establishments-employees-naics-pct-two-plot-1.png" class="img-fluid figure-img" alt="This bar chart lists employee size classes on the Y axis with percentage of employees in North Carolina colored by industry sector. Data is for each in 2021. A second plot shows the same data spread out to show the distribution of industry sectors among the size classes. Two more plots provide similar information but with industry sectors on the Y axis." width="1152"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.4: Percent of NC workers in each employee size class by sector 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="top-sectors-in-largest-nc-counties" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="top-sectors-in-largest-nc-counties"><span class="header-section-number">1.2</span> Top sectors in largest NC counties</h2>
<p>Are there similarities in the top sectors and their proportions in the counties with the most workers? Yes. HealthSoc, Retail, and AccFood are among the top four sectors in each of the top nine counties and the “Statewide” category. There are some differences: Mecklenburg’s top sector is FinIns, Durham’s is ProfSciTec, and Catawba’s is Manuf.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>county_name_label <span class="ot">&lt;-</span> d_emp_sector_total_county <span class="sc">|&gt;</span> <span class="co">#d_sector_totals_county |&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, fipscty, emp, county_name, naics) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">emp_sum =</span> <span class="fu">sum</span>(emp),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> county_name) <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> emp_sum, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county_name_label =</span> <span class="fu">glue</span>(<span class="st">"{county_name}</span><span class="sc">\n</span><span class="st">{comma(emp_sum)}"</span>),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">county_name_label =</span> <span class="fu">fct_reorder</span>(county_name_label, <span class="sc">-</span>emp_sum))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_nc_2021_top5_sectors_county_nc <span class="sc">|&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(county_name, emp, naics, naics_descr, emp_rank) <span class="sc">|&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(d_naics_abbr_ref,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"naics_descr"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(county_name_label,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"county_name"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_emp =</span> emp <span class="sc">/</span> emp_sum,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">county_name_label =</span> <span class="fu">fct_reorder</span>(county_name_label, <span class="sc">-</span>emp, sum)) <span class="sc">|&gt;</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">complete</span>(county_name_label, naics_abbr, <span class="at">fill =</span> <span class="fu">list</span>(<span class="at">emp =</span> <span class="cn">NA</span>, <span class="at">pct_emp =</span> <span class="cn">NA</span>)) </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span> </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> county_name_label, <span class="at">y =</span> pct_emp, <span class="at">group =</span> naics_abbr, <span class="at">color =</span> naics_abbr),</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> county_name_label, <span class="at">y =</span> pct_emp, <span class="at">label =</span> naics_abbr, <span class="at">fill =</span> naics_abbr),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">size =</span> data_label_size) <span class="sc">+</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fl">0.30</span>)) <span class="sc">+</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Top 5 sectors in 10 largest NC counties:</span><span class="sc">\n</span><span class="st">percent of county employment"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Ordered by total county employment reported in CBP"</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"; 'Statewide' refers to employees not associated with one county"</span>,</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"</span><span class="sc">\n</span><span class="st">Not showing Statewide AdminWaste, since it's over 50% of all 'Statewide' employees"</span>),</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent of county employment"</span>,</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rank-employee-count-top-counties-pct" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-rank-employee-count-top-counties-pct-1.png" class="img-fluid figure-img" alt="This plot shows the top 5 sectors for the 10 largest counties by employment in North Carolina, from the largest (Mecklenburg) to the tenth-largest (Catawba). Lines connect the same industry sector in adjacent columns. The Y axis is the percent of county employment." width="960"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.5: Sector percent of country emplyment rank</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The same information is presented below with simple ranking:</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> county_name_label, <span class="at">y =</span> emp_rank, <span class="at">group =</span> naics_abbr, <span class="at">color =</span> naics_abbr),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> county_name_label, <span class="at">y =</span> emp_rank, <span class="at">label =</span> naics_abbr, <span class="at">fill =</span> naics_abbr),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">size =</span> data_label_size) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Top 5 sectors in 10 largest NC counties: ranking"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Ordered by total county employment reported in CBP"</span>,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"; 'Statewide' refers to workers not associated with one county"</span>),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Rank in county employment"</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rank-employee-count-top-counties-rank" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-rank-employee-count-top-counties-rank-1.png" class="img-fluid figure-img" alt="Like the prior plot, this plot shows the top 5 sectors for the 10 largest counties by employment in North Carolina, from the largest (Mecklenburg) to the tenth-largest (Catawba). Lines connect the same industry sector in adaject columns. The difference is that Y axis is a simple ranking 1 to 5 of percent county employment." width="960"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.6: Sector rank by number of employees</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="trends-in-employment" class="level2 page-columns page-full" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="trends-in-employment"><span class="header-section-number">1.3</span> Trends in employment</h2>
<p>The last two decades have brought significant changes in the number and mix of employees in NC. The financial crisis in 2008 and the following years caused significant job losses (and company closings see <a href="cbp-establishments.html#fig-state-establishments-naics-timeseries">Figure&nbsp;<span>2.3</span></a>), the trend overall has been upward, reflecting the growing population of the state.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>state_emp_change <span class="ot">&lt;-</span> d_emp_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_fist_year =</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">emp_last_year =</span> emp[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_emp_diff =</span> emp_last_year <span class="sc">/</span> emp_fist_year <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(emp_fist_year, emp_last_year, pct_emp_diff)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_emp_diff_yty =</span> emp <span class="sc">/</span> <span class="fu">lag</span>(emp) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> emp, <span class="at">color =</span> year),</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">c</span>(<span class="at">linewidth =</span> <span class="dv">3</span>))) <span class="sc">+</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"NC workers"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of employees"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, pct_emp_diff_yty, <span class="at">color =</span> year)) <span class="sc">+</span> <span class="co">#, color = year</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Change in percent employment year-to-year"</span>),</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees in NC in 2021"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Pct change yty"</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">+</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"NC workers 2001-2021"</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"By 2021 employment was up {percent(state_emp_change$pct_emp_diff, accuracy = 0.1)}"</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>                    <span class="st">" after more than losing all gains from the first decade in the aftermath of the 2008 financial crisis."</span>,</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"</span><span class="sc">\n</span><span class="st">Includes all sectors reported in CBP"</span>),</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-state-employment-total-timeseries" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-employment-total-timeseries-1.png" class="img-fluid figure-img" alt="This line plot shows the number of employees in each sector from 2001 to 2021. A second plot shows the percent change year to year over the same time period." width="1152"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.7: NC workers 2001-2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The sector-level dynamics have varied a lot. Compare Manuf with HealthSoc, for example:</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"OtherInd"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, <span class="sc">-</span>emp)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_fist_year =</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">emp_last_year =</span> emp[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_emp_diff =</span> emp_last_year <span class="sc">/</span> emp_fist_year <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>labels_for_plot <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year))</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"Other"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> emp, <span class="at">color =</span> naics_abbr, <span class="at">group =</span> naics_abbr),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> labels_for_plot,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> year <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> emp, <span class="at">label =</span> naics_abbr, <span class="at">color =</span> naics_abbr),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">"y"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>), <span class="at">force_pull =</span> <span class="dv">100</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">seed =</span> <span class="dv">123</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="dv">2026</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">c</span>(<span class="at">linewidth =</span> <span class="dv">3</span>))) <span class="sc">+</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"NC workers in each sector"</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of employees"</span>,</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"Other"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> emp, <span class="at">color =</span> naics_abbr, <span class="at">fill =</span> naics_abbr, <span class="at">group =</span> naics_abbr),</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>           <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()),</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.02</span>))) <span class="sc">+</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">c</span>(<span class="at">linewidth =</span> <span class="dv">3</span>))) <span class="sc">+</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"NC workers combined trend"</span>,</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of employees"</span>,</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>,</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>         emp <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(emp, pct_emp_diff, <span class="at">color =</span> naics_abbr)) <span class="sc">+</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> naics_abbr),</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"What is the percent change in employment since 2001?"</span>),</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees in NC in 2021"</span>,</span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Pct change since 2001"</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"NC workers in each employee sector 2001-2021"</span>,</span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Includes all sectors reported in CBP"</span>,</span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-state-employment-naics-timeseries" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-employment-naics-timeseries-1.png" class="img-fluid figure-img" alt="This line plot shows the number of employees in each sector from 2001 to 2021. A second plot shows the same data as a stacked area plot. A third plot below the others shows the percent change since 2021 on the Y axis and number of employees in 2021 on the X axis." width="1152"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.8: NC workers in each sector 2001-2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The portion of employees in each employee class size varies over time and across sectors. Decade-long trends are visible:</p>
<ul>
<li>The share of employees in the Accommodation and Food sector has been increasing in most employee size classes, yet this sector suffered the most during the COVID-19 pandemic 2020-2021.</li>
<li>The share in Manufacturing has been in noticeable decline, especially through 2015 and in the larger employee size classes</li>
<li>Construction slowed significantly after the 2008 financial crisis.</li>
</ul>
<p>In the HealthSoc, Retail, and ProfSciTec sectors there are cases of big changes from one year to the next in multiple employee size classes. I wonder if this is due to changes in NAICS categories, changes in measurement methodology, or a real change in that sector.</p>
<p>Noise added to some data before release may be the cause of the jumpiness in some of the least common employee size classes.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_state_nc_size_classes <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(n_employees_ref <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>               <span class="fu">select</span>(<span class="sc">-</span>est_size_class),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"emp_size_class"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_size_class =</span> <span class="fu">factor</span>(emp_size_class, <span class="at">levels =</span> emp_size_class_levels),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">naics_abbr =</span> <span class="fu">fct_lump</span>(naics_abbr, <span class="at">n =</span> <span class="dv">9</span>, <span class="at">w =</span> emp)) </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"Other"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pct_emp, <span class="at">color =</span> emp_size_class, <span class="at">group =</span> emp_size_class),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(. <span class="sc">~</span> naics_abbr, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">c</span>(<span class="at">linewidth =</span> <span class="dv">3</span>))) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percent of NC workers in each employee size class</span><span class="sc">\n</span><span class="st">by sector 2001-2021"</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Top 9 sectors by number of employees (in 2021) as reported in CBP"</span>,</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent of employees (scale varies)"</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-state-employees-naics-pct-timeseries-top-9-sectors" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-state-employees-naics-pct-timeseries-top-9-sectors-1.png" class="img-fluid figure-img" alt="This nine-panel line plot shows employee size class from 2001 to 2021 for the nine industry sectors employing the most poeple." width="960"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.9: Percent of NC workers in each employee size class by sector</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The year over year drop in manufacturing jobs through 2012 is striking. As is the consistent growth through the 21-year period in (1) Healthcare and social services and (2) Accommodation and food.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(top_naics,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>, <span class="st">"naics_abbr"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, emp))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, emp, <span class="at">color  =</span> naics_abbr)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.6</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_labelsmooth</span>(<span class="fu">aes</span>(<span class="at">label =</span> naics_abbr,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">hjust =</span> naics_sort_order <span class="sc">/</span> top_naics_cutoff <span class="sc">-</span> <span class="fl">0.1</span>),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>, <span class="at">span =</span> <span class="fl">0.95</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.02</span>))) <span class="sc">+</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>)) <span class="sc">+</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">glue</span>(<span class="st">"NC employment trend:</span><span class="sc">\n</span><span class="st">Top {top_naics_cutoff} sectors"</span>),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of employees"</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">""</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rank-employment" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-rank-employment-1.png" class="img-fluid figure-img" alt="This line plot shows the number of employees in each sector from 2001 to 2021." width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.10: Employment trend: top 5 sectors by number of employees</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="trends-in-employment---counties" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="trends-in-employment---counties"><span class="header-section-number">1.4</span> Trends in employment - counties</h2>
<p>There is naturally more variation when looking at the 100 counties rather than state summaries. The patterns are generally the same across counties of differing number of workers. I see two noticeable differences: (1) the largest counties are not in the group of the most extreme growth or decline; and (2) there is a group of ten or so mid-sized counties that declined modestly from 2001-2007, then quickly 2008-2009, and have grown slowly since then but still with lower employment than in 2001.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_total_county <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(county_name <span class="sc">!=</span> <span class="st">"Statewide, NC"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_growth_since_2001 =</span> emp <span class="sc">/</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_growth_full_period =</span> pct_growth_since_2001[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_emp_diff_yty =</span> emp <span class="sc">/</span> <span class="fu">lag</span>(emp) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(fipscty)) <span class="sc">|&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">size_group =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    emp <span class="sc">&lt;</span> <span class="fl">1e4</span>                <span class="sc">~</span> <span class="st">"group 1: small</span><span class="sc">\n</span><span class="st">emp &lt; 10K"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    emp <span class="sc">&lt;</span> <span class="fl">1e5</span>                <span class="sc">~</span> <span class="st">"group 2: medium</span><span class="sc">\n</span><span class="st">10K &lt; emp &lt; 100K"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    emp <span class="sc">&gt;=</span> <span class="fl">1e5</span>               <span class="sc">~</span> <span class="st">"group 3: large</span><span class="sc">\n</span><span class="st">emp &gt; 100K"</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>labels_for_plot_tmp <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year)) </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>labels_for_plot <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  labels_for_plot_tmp <span class="sc">|&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_max</span>(<span class="at">order_by =</span> pct_growth_full_period, <span class="at">n =</span> <span class="dv">5</span>),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  labels_for_plot_tmp <span class="sc">|&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_min</span>(<span class="at">order_by =</span> pct_growth_full_period, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>n_smaller <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pct_growth_full_period <span class="sc">&lt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pct_growth_since_2001, <span class="at">group =</span> county_name, <span class="at">color =</span> pct_growth_full_period),</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> labels_for_plot,</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> year <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> pct_growth_full_period, <span class="at">label =</span> county_name),</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">"y"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>), <span class="at">force_pull =</span> <span class="dv">100</span>,</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>                  <span class="at">seed =</span> <span class="dv">123</span>,</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_c</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="dv">2027</span>) <span class="sc">+</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"County growth trajectories - all counties"</span>,</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Growth (2001 = 1)"</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pct_growth_since_2001, <span class="at">group =</span> county_name, <span class="at">color =</span> pct_growth_full_period),</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> labels_for_plot,</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> year <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> pct_growth_full_period, <span class="at">label =</span> county_name),</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">"y"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>), <span class="at">force_pull =</span> <span class="dv">100</span>,</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>                  <span class="at">seed =</span> <span class="dv">123</span>,</span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_c</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> size_group) <span class="sc">+</span></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="dv">2027</span>) <span class="sc">+</span></span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"County growth trajectories - grouped by number of workers in the county"</span>,</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Growth (2001 = 1)"</span></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_layout</span>(<span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_annotation</span>(</span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"County employee growth trajectories 2001-2021"</span>,</span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a>      <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"{n_smaller} of 100 counties ended the period with fewer workers"</span>, </span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"; as reported in CBP; excludes 'Statewide'"</span>,</span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"; with names of counties with most growth and decline"</span>),</span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> my_caption</span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-county-employees-sector-totals-time-series-pct" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-county-employees-sector-totals-time-series-pct-1.png" class="img-fluid figure-img" alt="This line plot shows the growth of each NC county from 2001 to 2021 plus the same information grouped into three groups by the number of workers in the county." width="1344"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.11: NC state employees by county (percent) 2021-2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Placing the county trends in their approximate geographic context, it’s noticeable that (1) growth or decline is not concentrated in one part of the state; (2) most of the workers are in a relatively small number of counties; and (3) most of the counties with more than 50K workers saw employment growth 2001-2021 (and plenty of counties with few workers saw employment growth too).</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_total_county <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(county_name <span class="sc">!=</span> <span class="st">"Statewide, NC"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_growth_since_2001 =</span> emp <span class="sc">/</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_growth_full_period =</span> pct_growth_since_2001[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(fipscty)) <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county_name =</span> <span class="fu">if_else</span>(county_name <span class="sc">==</span> <span class="st">"McDowell"</span>, <span class="st">"Mcdowell"</span>, county_name),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill_color =</span> <span class="fu">if_else</span>(pct_growth_full_period <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="st">"up"</span>, <span class="st">"down"</span>))</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="fu">min</span>(year) <span class="sc">-</span> <span class="dv">1</span>, <span class="at">xmax =</span> <span class="fu">max</span>(year) <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymin =</span> <span class="fu">min</span>(emp) <span class="sc">-</span> <span class="fl">0.05</span> <span class="sc">*</span> <span class="fu">min</span>(emp), <span class="at">ymax =</span> <span class="fu">max</span>(emp) <span class="sc">+</span> <span class="fl">0.05</span> <span class="sc">*</span> <span class="fu">max</span>(emp),</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> fill_color),</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> emp), </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>),</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>))) <span class="sc">+</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">2e5</span>, <span class="fl">4e5</span>, <span class="fl">6e5</span>),</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="fl">0.02</span>,<span class="dv">0</span>))) <span class="sc">+</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_geo</span>( <span class="sc">~</span> county_name,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">grid =</span> <span class="st">"us_nc_counties_grid1"</span>) <span class="sc">+</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">60</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">3.0</span>), <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Employment in NC counties 2001-2021"</span>, </span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Green cells indicate higher employment at end of period"</span>),</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of workers"</span>,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> my_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-screen-inset-right">
<div id="fig-emp-geofacet-pct-counts" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-emp-geofacet-pct-counts-1.png" class="img-fluid figure-img" alt="This plot shows the number of workers in each NC county in the years 2001-2021. It offers a facet for each NC county placed in the approximate geographical location of the county." width="2304"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.12: Employment trends in NC counties (approximate geographical position)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Looking at change year-to-year for each county where 2001 employment equals 1, some patterns emerge: (1) counties with employment growth in this period tended to grow fast, declined during and after the financial crisis, then grew beyond their previous high water mark in the last decade; (2) some counties in decline lost workers nearly every year.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_total_county <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(county_name <span class="sc">!=</span> <span class="st">"Statewide, NC"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_growth_since_2001 =</span> emp <span class="sc">/</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_growth_full_period =</span> pct_growth_since_2001[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(fipscty)) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county_name =</span> <span class="fu">if_else</span>(county_name <span class="sc">==</span> <span class="st">"McDowell"</span>, <span class="st">"Mcdowell"</span>, county_name),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill_color =</span> <span class="fu">if_else</span>(pct_growth_full_period <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="st">"up"</span>, <span class="st">"down"</span>))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="fu">min</span>(year) <span class="sc">-</span> <span class="dv">1</span>, <span class="at">xmax =</span> <span class="fu">max</span>(year) <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymin =</span> <span class="fu">min</span>(pct_growth_since_2001) <span class="sc">-</span> <span class="fl">0.05</span>, <span class="at">ymax =</span> <span class="fu">max</span>(pct_growth_since_2001) <span class="sc">+</span> <span class="fl">0.05</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> fill_color),</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.01</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pct_growth_since_2001), </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>))) <span class="sc">+</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()),</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>))) <span class="sc">+</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">end =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_geo</span>( <span class="sc">~</span> county_name,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">grid =</span> <span class="st">"us_nc_counties_grid1"</span>) <span class="sc">+</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">60</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">3.0</span>), <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Year-to-year change in employment in NC counties 2001-2021"</span>, </span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"2001 = 1; green cells indicate higher employment at end of period"</span>),</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Change in employment"</span>,</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> my_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-screen-inset-right">
<div id="fig-emp-geofacet-pct-yty" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-emp-geofacet-pct-yty-1.png" class="img-fluid figure-img" alt="This plot shows the year-to-year growth in the number of workers in each NC county in the years 2001-2021. It offers a facet for each NC county placed in the approximate geographical location of the county." width="2304"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.13: Employment trends in NC counties (approximate geographical position)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>There is variation in the industry sectors, counties, and employee size classes.</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_county_nc_size_classes <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_lump</span>(naics_abbr, <span class="at">n =</span> <span class="dv">8</span>, <span class="at">w =</span> pct_emp),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">county_name =</span> <span class="fu">fct_lump</span>(county_name, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">w =</span> emp),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">county_name =</span> <span class="fu">fct_rev</span>(county_name)) </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"Other"</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>         county_name <span class="sc">!=</span> <span class="st">"Other"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> pct_emp, <span class="at">color =</span> emp_size_class, <span class="at">group =</span> emp_size_class),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>)) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">accuracy =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(county_name <span class="sc">~</span> naics_abbr, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">c</span>(<span class="at">linewidth =</span> <span class="dv">3</span>))) <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percent of workers in each employee size class</span><span class="sc">\n</span><span class="st">by sector and county 2001-2021"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Top 8 sectors in largest 10 largest counties by employment (in 2021) as reported in CBP"</span>,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent of employees (scale varies by row)"</span>,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-county-naics-employees-size-class-time-series-pct" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-county-naics-employees-size-class-time-series-pct-1.png" class="img-fluid figure-img" alt="This 80 panel plot shows percent of workers in each employee size class from 2001 to 2021. Each column of panels is an industry sector. Each row of panels is a county." width="960"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.14: NC state employees by establishment size class and sector (percent) 2001-2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="trends-in-average-wages-statewide" class="level2 page-columns page-full" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="trends-in-average-wages-statewide"><span class="header-section-number">1.5</span> Trends in average wages statewide</h2>
<p>Average wage trends are not uniform across sectors. Wages in four of the five highest paying sectors grew faster than inflation while they dropped in “Management”. I wonder if the drop in the average wage of the management sector is due to manufacturing and financial services disruptions set in motion by the 2008 financial crisis and the COVID-19 pandemic. Or perhaps managers are getting a smaller portion of their income in wages and more in stock or other benefits.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>top_wage <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> avg_wage, <span class="at">n =</span> top_naics_cutoff) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wage_sort_order =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, wage_sort_order)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(top_wage,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"naics"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(d_infation_adj,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"year"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_wage_adjusted =</span> avg_wage <span class="sc">*</span> adj)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, avg_wage_adjusted, <span class="at">color  =</span> naics_abbr, <span class="at">group =</span> naics_abbr)) <span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.6</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_labelsmooth</span>(<span class="fu">aes</span>(<span class="at">label =</span> naics_abbr, </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">hjust =</span> wage_sort_order <span class="sc">/</span> top_naics_cutoff <span class="sc">-</span> <span class="fl">0.1</span>),</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>, <span class="at">span =</span> <span class="fl">0.95</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>(),</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">prefix =</span> <span class="st">"$"</span>),</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.02</span>))) <span class="sc">+</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>)) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">glue</span>(<span class="st">"NC average wage trend:</span><span class="sc">\n</span><span class="st">Top {top_naics_cutoff} sectors"</span>),</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"In 2021 dollars"</span>),</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">""</span>,</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-rank-employee-wages-top-sectors-2021-dollars" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-rank-employee-wages-top-sectors-2021-dollars-1.png" class="img-fluid figure-img" alt="This line plot shows the trend in average wages from 2001 to 2021." width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.15: Wage trend: top 5 sectors by average wage in 2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(d_infation_adj,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"year"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_wage_adjusted =</span> avg_wage <span class="sc">*</span> adj) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wage_fist_year =</span> avg_wage_adjusted[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">wage_last_year =</span> avg_wage_adjusted[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wage_diff =</span> wage_last_year <span class="sc">-</span> wage_fist_year,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">wage_direction =</span> <span class="fu">if_else</span>(wage_diff <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"wage up"</span>, <span class="st">"wage down"</span>),</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_wage_diff =</span> wage_last_year <span class="sc">/</span> wage_fist_year <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>labels_for_plot <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year))</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(emp <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, avg_wage_adjusted, <span class="at">color =</span> naics_abbr)) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>              <span class="co">#span = 3,</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> labels_for_plot,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> year <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> avg_wage_adjusted, <span class="at">label =</span> naics_abbr),</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">"y"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>), <span class="at">force_pull =</span> <span class="dv">100</span>,</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>                  <span class="at">seed =</span> <span class="dv">123</span>,</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>(),</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">prefix =</span> <span class="st">"$"</span>),</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.02</span>))) <span class="sc">+</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="dv">2026</span>,</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> wage_direction) <span class="sc">+</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"NC average wage trend in 2021 up or down compared to 2001"</span>,</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Average wages"</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>,</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>         emp <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(emp, pct_wage_diff, <span class="at">color =</span> naics_abbr)) <span class="sc">+</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">size =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> naics_abbr),</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>()) <span class="sc">+</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Percent change in average wages since 2001"</span>),</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees in NC in 2021"</span>,</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percent change in average wage since 2001"</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">+</span></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average wages by sector 2001-2021"</span>,</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"In 2021 dollars; includes all sectors reported in CBP"</span>,</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-wage-trend-top-sectors" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-wage-trend-top-sectors-1.png" class="img-fluid figure-img" alt="The first two line plot shows the trend in average wages by sector from 2001 to 2021. On the left are the two sectors where wages have declined; on the right are all the others. A third plot below the others shows the percent change in average wages since 2021 on the Y axis and number of employees in 2021 on the X axis." width="768"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.16: NC average wage trend by sector 2001-2021</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>There is a lot of wage variation in subcategories based on job role and location. Consider “Health and social services” (HealthSoc):</p>
<div class="cell page-columns page-full">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">&lt;-</span> d_emp_county_healthsoc <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(emp <span class="sc">&gt;=</span> <span class="dv">10</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">str_detect</span>(naics, <span class="st">"/$|-$"</span>)) <span class="sc">|&gt;</span> <span class="co"># only the most detailed categories</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_descr =</span> <span class="fu">fct_lump</span>(naics_descr, <span class="dv">20</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_descr <span class="sc">!=</span> <span class="st">"Other"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(d_infation_adj,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"year"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_wage_adjusted =</span> avg_wage <span class="sc">*</span> adj) <span class="sc">|&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(avg_wage_adjusted))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>ave_wage_detailed_naics <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_wage =</span> <span class="fu">weighted.mean</span>(avg_wage_adjusted, <span class="at">w =</span> emp),</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(naics, naics_descr))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>n_datapoints <span class="ot">&lt;-</span> <span class="fu">nrow</span>(data_for_plot)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_descr =</span> <span class="fu">fct_reorder</span>(naics_descr, avg_wage, mean)) <span class="sc">|&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(avg_wage, naics_descr, <span class="at">fill =</span> naics_descr)) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">linewidth =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="co">#fill = carolina_blue, </span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> ave_wage_detailed_naics,</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(avg_wage, naics_descr),</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="st">"|"</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>(),</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">prefix =</span> <span class="st">"$"</span>),</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.02</span>))) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Average wage in HealthSoc varies widely"</span>),</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Distribution of avg wages</span><span class="sc">\n</span><span class="st">vertical bar at mean"</span>,</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_for_plot <span class="sc">|&gt;</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_descr =</span> <span class="fu">fct_reorder</span>(naics_descr, avg_wage, mean)) <span class="sc">|&gt;</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(emp, avg_wage, <span class="at">group =</span> naics_descr, <span class="at">color =</span> naics_descr)) <span class="sc">+</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="fl">0.97</span>, <span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">formula =</span> <span class="st">'y ~ x'</span>,</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>              <span class="at">linewidth =</span> <span class="fl">0.6</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>())) <span class="sc">+</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>(),</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">prefix =</span> <span class="st">"$"</span>)) <span class="sc">+</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"Average wages generally are higher</span><span class="sc">\n</span><span class="st">in counties with more workers"</span>),</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Employees (log10 scale)"</span>,</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Avg sector wage"</span>,</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"HealthSoc in NC 2001-2021"</span>,</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">glue</span>(<span class="st">"In 2021 dollars; includes data where [year, county, naics] employee count ≥ 10 in at least 20 of the 100 NC counties"</span>, </span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"</span><span class="sc">\n</span><span class="st">Most detailed NAICS categories only; N = {comma(n_datapoints)}"</span>),</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> my_caption</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-page-inset-right">
<div id="fig-wage-healthsoc" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="cbp-employment-wages_files/figure-html/fig-wage-healthsoc-1.png" class="img-fluid figure-img" alt="The first plot shows the 20 most common detailed NAICS categories in the 'Health and Social Services' category in NC counties. Violin plots show the distribution of average wages over the years 2001-2021. The second plot shows a line for each detailed NAICS category with number of employees in the county on the X axis and average wage on the Y axis. It's clear that in general, employees in counties with more workers in that category enjoy higher wages." width="960"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.17: NC average wages in HealthSoc sector</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="sec-tables" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="sec-tables"><span class="header-section-number">1.6</span> Tables</h2>
<p>Below are the sector summary categories used in the CBP. To simplify plotting, I created some abbreviations:</p>
<div class="cell tbl-cap-location-bottom">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>d_naics_abbr_ref <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(naics_abbr_num) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics_abbr, naics_descr) <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rowid =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="fu">md</span>(<span class="fu">glue</span>(<span class="st">"**NAICS categories and abbreviations used in this analysis**"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"*US Census County Business Patterns; analysis by Daniel Moul*"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-sector-abbreviations" class="anchored">

<div id="hazoalcbdc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hazoalcbdc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hazoalcbdc thead, #hazoalcbdc tbody, #hazoalcbdc tfoot, #hazoalcbdc tr, #hazoalcbdc td, #hazoalcbdc th {
  border-style: none;
}

#hazoalcbdc p {
  margin: 0;
  padding: 0;
}

#hazoalcbdc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hazoalcbdc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hazoalcbdc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hazoalcbdc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hazoalcbdc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hazoalcbdc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazoalcbdc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hazoalcbdc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hazoalcbdc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hazoalcbdc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hazoalcbdc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hazoalcbdc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hazoalcbdc .gt_spanner_row {
  border-bottom-style: hidden;
}

#hazoalcbdc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hazoalcbdc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hazoalcbdc .gt_from_md > :first-child {
  margin-top: 0;
}

#hazoalcbdc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hazoalcbdc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hazoalcbdc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hazoalcbdc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hazoalcbdc .gt_row_group_first td {
  border-top-width: 2px;
}

#hazoalcbdc .gt_row_group_first th {
  border-top-width: 2px;
}

#hazoalcbdc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazoalcbdc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hazoalcbdc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hazoalcbdc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazoalcbdc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazoalcbdc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hazoalcbdc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hazoalcbdc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hazoalcbdc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hazoalcbdc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hazoalcbdc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazoalcbdc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hazoalcbdc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hazoalcbdc .gt_left {
  text-align: left;
}

#hazoalcbdc .gt_center {
  text-align: center;
}

#hazoalcbdc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hazoalcbdc .gt_font_normal {
  font-weight: normal;
}

#hazoalcbdc .gt_font_bold {
  font-weight: bold;
}

#hazoalcbdc .gt_font_italic {
  font-style: italic;
}

#hazoalcbdc .gt_super {
  font-size: 65%;
}

#hazoalcbdc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hazoalcbdc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hazoalcbdc .gt_indent_1 {
  text-indent: 5px;
}

#hazoalcbdc .gt_indent_2 {
  text-indent: 10px;
}

#hazoalcbdc .gt_indent_3 {
  text-indent: 15px;
}

#hazoalcbdc .gt_indent_4 {
  text-indent: 20px;
}

#hazoalcbdc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1.1:  NAICS sector categories and abbreviations </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><strong>NAICS categories and abbreviations used in this analysis</strong></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_abbr">naics_abbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_descr">naics_descr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rowid">rowid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="naics_abbr" class="gt_row gt_left">TotalAllSec</td>
<td headers="naics_descr" class="gt_row gt_left">Total for all sectors</td>
<td headers="rowid" class="gt_row gt_right">1</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">AccFood</td>
<td headers="naics_descr" class="gt_row gt_left">Accommodation and food services</td>
<td headers="rowid" class="gt_row gt_right">2</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">AdminWaste</td>
<td headers="naics_descr" class="gt_row gt_left">Administrative and support and waste management and remediation services</td>
<td headers="rowid" class="gt_row gt_right">3</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">AgForFish</td>
<td headers="naics_descr" class="gt_row gt_left">Agriculture, forestry, fishing and hunting</td>
<td headers="rowid" class="gt_row gt_right">4</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">ArtEntRec</td>
<td headers="naics_descr" class="gt_row gt_left">Arts, entertainment, and recreation</td>
<td headers="rowid" class="gt_row gt_right">5</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Constr</td>
<td headers="naics_descr" class="gt_row gt_left">Construction</td>
<td headers="rowid" class="gt_row gt_right">6</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Educ</td>
<td headers="naics_descr" class="gt_row gt_left">Educational services</td>
<td headers="rowid" class="gt_row gt_right">7</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">FinIns</td>
<td headers="naics_descr" class="gt_row gt_left">Finance and insurance</td>
<td headers="rowid" class="gt_row gt_right">8</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">HealthSoc</td>
<td headers="naics_descr" class="gt_row gt_left">Health care and social assistance</td>
<td headers="rowid" class="gt_row gt_right">9</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Info</td>
<td headers="naics_descr" class="gt_row gt_left">Information</td>
<td headers="rowid" class="gt_row gt_right">10</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Manuf</td>
<td headers="naics_descr" class="gt_row gt_left">Manufacturing</td>
<td headers="rowid" class="gt_row gt_right">11</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">MineOilGas</td>
<td headers="naics_descr" class="gt_row gt_left">Mining, quarrying, and oil and gas extraction</td>
<td headers="rowid" class="gt_row gt_right">12</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Mgmt</td>
<td headers="naics_descr" class="gt_row gt_left">Management of companies and enterprises</td>
<td headers="rowid" class="gt_row gt_right">13</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">ProfSciTec</td>
<td headers="naics_descr" class="gt_row gt_left">Professional, scientific, and technical services</td>
<td headers="rowid" class="gt_row gt_right">14</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">RealEst</td>
<td headers="naics_descr" class="gt_row gt_left">Real estate and rental and leasing</td>
<td headers="rowid" class="gt_row gt_right">15</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Retail</td>
<td headers="naics_descr" class="gt_row gt_left">Retail trade</td>
<td headers="rowid" class="gt_row gt_right">16</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Transpt</td>
<td headers="naics_descr" class="gt_row gt_left">Transportation and warehousing</td>
<td headers="rowid" class="gt_row gt_right">17</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Util</td>
<td headers="naics_descr" class="gt_row gt_left">Utilities</td>
<td headers="rowid" class="gt_row gt_right">18</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">Whlsale</td>
<td headers="naics_descr" class="gt_row gt_left">Wholesale trade</td>
<td headers="rowid" class="gt_row gt_right">19</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">OtherServ</td>
<td headers="naics_descr" class="gt_row gt_left">Other services (except public administration)</td>
<td headers="rowid" class="gt_row gt_right">20</td></tr>
    <tr><td headers="naics_abbr" class="gt_row gt_left">OtherInd</td>
<td headers="naics_descr" class="gt_row gt_left">Industries not classified</td>
<td headers="rowid" class="gt_row gt_right">21</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="3"><em>US Census County Business Patterns; analysis by Daniel Moul</em></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Sectors sorted by number of employees:</p>
<div class="cell tbl-cap-location-bottom">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"OtherInd"</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, naics_abbr, naics_descr, <span class="at">emp_2021 =</span> emp, <span class="at">pct_emp_2021 =</span> pct_emp) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>emp_2021) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rowid =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(naics_descr, <span class="at">.after =</span> naics) <span class="sc">|&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="fu">md</span>(<span class="fu">glue</span>(<span class="st">"**NC sector employment 2021**"</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"&lt;br&gt;*Sorted by sector employment*"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"*US Census County Business Patterns; analysis by Daniel Moul*"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(emp_2021), <span class="co">#, avg_wage</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="at">columns =</span> pct_emp_2021, </span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-state-nc-emp" class="anchored">

<div id="cmniysghvr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cmniysghvr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cmniysghvr thead, #cmniysghvr tbody, #cmniysghvr tfoot, #cmniysghvr tr, #cmniysghvr td, #cmniysghvr th {
  border-style: none;
}

#cmniysghvr p {
  margin: 0;
  padding: 0;
}

#cmniysghvr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cmniysghvr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cmniysghvr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cmniysghvr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cmniysghvr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cmniysghvr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cmniysghvr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cmniysghvr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cmniysghvr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cmniysghvr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cmniysghvr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cmniysghvr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cmniysghvr .gt_spanner_row {
  border-bottom-style: hidden;
}

#cmniysghvr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cmniysghvr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cmniysghvr .gt_from_md > :first-child {
  margin-top: 0;
}

#cmniysghvr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cmniysghvr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cmniysghvr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cmniysghvr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cmniysghvr .gt_row_group_first td {
  border-top-width: 2px;
}

#cmniysghvr .gt_row_group_first th {
  border-top-width: 2px;
}

#cmniysghvr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cmniysghvr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cmniysghvr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cmniysghvr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cmniysghvr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cmniysghvr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cmniysghvr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cmniysghvr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cmniysghvr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cmniysghvr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cmniysghvr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cmniysghvr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cmniysghvr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cmniysghvr .gt_left {
  text-align: left;
}

#cmniysghvr .gt_center {
  text-align: center;
}

#cmniysghvr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cmniysghvr .gt_font_normal {
  font-weight: normal;
}

#cmniysghvr .gt_font_bold {
  font-weight: bold;
}

#cmniysghvr .gt_font_italic {
  font-style: italic;
}

#cmniysghvr .gt_super {
  font-size: 65%;
}

#cmniysghvr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cmniysghvr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cmniysghvr .gt_indent_1 {
  text-indent: 5px;
}

#cmniysghvr .gt_indent_2 {
  text-indent: 10px;
}

#cmniysghvr .gt_indent_3 {
  text-indent: 15px;
}

#cmniysghvr .gt_indent_4 {
  text-indent: 20px;
}

#cmniysghvr .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1.2:  NC state employment by sector 2021 </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><strong>NC sector employment 2021</strong><br><em>Sorted by sector employment</em></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="naics">naics</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_descr">naics_descr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_abbr">naics_abbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="emp_2021">emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_emp_2021">pct_emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rowid">rowid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="naics" class="gt_row gt_right">62----</td>
<td headers="naics_descr" class="gt_row gt_left">Health care and social assistance</td>
<td headers="naics_abbr" class="gt_row gt_left">HealthSoc</td>
<td headers="emp_2021" class="gt_row gt_right">625,672</td>
<td headers="pct_emp_2021" class="gt_row gt_right">16%</td>
<td headers="rowid" class="gt_row gt_right">1</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">44----</td>
<td headers="naics_descr" class="gt_row gt_left">Retail trade</td>
<td headers="naics_abbr" class="gt_row gt_left">Retail</td>
<td headers="emp_2021" class="gt_row gt_right">512,706</td>
<td headers="pct_emp_2021" class="gt_row gt_right">13%</td>
<td headers="rowid" class="gt_row gt_right">2</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">31----</td>
<td headers="naics_descr" class="gt_row gt_left">Manufacturing</td>
<td headers="naics_abbr" class="gt_row gt_left">Manuf</td>
<td headers="emp_2021" class="gt_row gt_right">451,487</td>
<td headers="pct_emp_2021" class="gt_row gt_right">12%</td>
<td headers="rowid" class="gt_row gt_right">3</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">72----</td>
<td headers="naics_descr" class="gt_row gt_left">Accommodation and food services</td>
<td headers="naics_abbr" class="gt_row gt_left">AccFood</td>
<td headers="emp_2021" class="gt_row gt_right">402,561</td>
<td headers="pct_emp_2021" class="gt_row gt_right">10%</td>
<td headers="rowid" class="gt_row gt_right">4</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">56----</td>
<td headers="naics_descr" class="gt_row gt_left">Administrative and support and waste management and remediation services</td>
<td headers="naics_abbr" class="gt_row gt_left">AdminWaste</td>
<td headers="emp_2021" class="gt_row gt_right">290,845</td>
<td headers="pct_emp_2021" class="gt_row gt_right">7%</td>
<td headers="rowid" class="gt_row gt_right">5</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">54----</td>
<td headers="naics_descr" class="gt_row gt_left">Professional, scientific, and technical services</td>
<td headers="naics_abbr" class="gt_row gt_left">ProfSciTec</td>
<td headers="emp_2021" class="gt_row gt_right">245,485</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">6</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">23----</td>
<td headers="naics_descr" class="gt_row gt_left">Construction</td>
<td headers="naics_abbr" class="gt_row gt_left">Constr</td>
<td headers="emp_2021" class="gt_row gt_right">228,752</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">7</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">52----</td>
<td headers="naics_descr" class="gt_row gt_left">Finance and insurance</td>
<td headers="naics_abbr" class="gt_row gt_left">FinIns</td>
<td headers="emp_2021" class="gt_row gt_right">212,324</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">8</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">42----</td>
<td headers="naics_descr" class="gt_row gt_left">Wholesale trade</td>
<td headers="naics_abbr" class="gt_row gt_left">Whlsale</td>
<td headers="emp_2021" class="gt_row gt_right">191,495</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">9</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">48----</td>
<td headers="naics_descr" class="gt_row gt_left">Transportation and warehousing</td>
<td headers="naics_abbr" class="gt_row gt_left">Transpt</td>
<td headers="emp_2021" class="gt_row gt_right">159,091</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">10</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">81----</td>
<td headers="naics_descr" class="gt_row gt_left">Other services (except public administration)</td>
<td headers="naics_abbr" class="gt_row gt_left">OtherServ</td>
<td headers="emp_2021" class="gt_row gt_right">156,834</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">11</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">55----</td>
<td headers="naics_descr" class="gt_row gt_left">Management of companies and enterprises</td>
<td headers="naics_abbr" class="gt_row gt_left">Mgmt</td>
<td headers="emp_2021" class="gt_row gt_right">99,410</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">12</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">61----</td>
<td headers="naics_descr" class="gt_row gt_left">Educational services</td>
<td headers="naics_abbr" class="gt_row gt_left">Educ</td>
<td headers="emp_2021" class="gt_row gt_right">98,677</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">13</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">51----</td>
<td headers="naics_descr" class="gt_row gt_left">Information</td>
<td headers="naics_abbr" class="gt_row gt_left">Info</td>
<td headers="emp_2021" class="gt_row gt_right">86,053</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">14</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">53----</td>
<td headers="naics_descr" class="gt_row gt_left">Real estate and rental and leasing</td>
<td headers="naics_abbr" class="gt_row gt_left">RealEst</td>
<td headers="emp_2021" class="gt_row gt_right">58,890</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">15</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">71----</td>
<td headers="naics_descr" class="gt_row gt_left">Arts, entertainment, and recreation</td>
<td headers="naics_abbr" class="gt_row gt_left">ArtEntRec</td>
<td headers="emp_2021" class="gt_row gt_right">54,515</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">16</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">22----</td>
<td headers="naics_descr" class="gt_row gt_left">Utilities</td>
<td headers="naics_abbr" class="gt_row gt_left">Util</td>
<td headers="emp_2021" class="gt_row gt_right">20,391</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">17</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">11----</td>
<td headers="naics_descr" class="gt_row gt_left">Agriculture, forestry, fishing and hunting</td>
<td headers="naics_abbr" class="gt_row gt_left">AgForFish</td>
<td headers="emp_2021" class="gt_row gt_right">4,714</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">18</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">21----</td>
<td headers="naics_descr" class="gt_row gt_left">Mining, quarrying, and oil and gas extraction</td>
<td headers="naics_abbr" class="gt_row gt_left">MineOilGas</td>
<td headers="emp_2021" class="gt_row gt_right">3,464</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">19</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="6"><em>US Census County Business Patterns; analysis by Daniel Moul</em></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</div>
<p><br></p>
<p>Sorted by percent difference from 2001 to 2021</p>
<div class="cell tbl-cap-location-bottom">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(naics_abbr <span class="sc">!=</span> <span class="st">"OtherInd"</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">naics_abbr =</span> <span class="fu">fct_reorder</span>(naics_abbr, <span class="sc">-</span>emp)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_fist_year =</span> emp[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">emp_last_year =</span> emp[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_emp_diff =</span> emp_last_year <span class="sc">/</span> emp_fist_year <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, naics_abbr, <span class="at">emp_2021 =</span> emp, <span class="at">pct_emp_2021 =</span> pct_emp, <span class="at">pct_emp_diff_since_2001 =</span> pct_emp_diff) <span class="sc">|&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>pct_emp_diff_since_2001) <span class="sc">|&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rowid =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="fu">md</span>(<span class="fu">glue</span>(<span class="st">"**NC sector employment in 2021 and growth since 2001**"</span>,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"&lt;br&gt;*Sorted by growth since 2001*"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"*US Census County Business Patterns; analysis by Daniel Moul*"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(emp_2021),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="at">columns =</span> <span class="fu">c</span>(pct_emp_2021, pct_emp_diff_since_2001),</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-state-nc-emp-growth" class="anchored">

<div id="llrekmbyxs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#llrekmbyxs table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#llrekmbyxs thead, #llrekmbyxs tbody, #llrekmbyxs tfoot, #llrekmbyxs tr, #llrekmbyxs td, #llrekmbyxs th {
  border-style: none;
}

#llrekmbyxs p {
  margin: 0;
  padding: 0;
}

#llrekmbyxs .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#llrekmbyxs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#llrekmbyxs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#llrekmbyxs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#llrekmbyxs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#llrekmbyxs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#llrekmbyxs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#llrekmbyxs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#llrekmbyxs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#llrekmbyxs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#llrekmbyxs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#llrekmbyxs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#llrekmbyxs .gt_spanner_row {
  border-bottom-style: hidden;
}

#llrekmbyxs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#llrekmbyxs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#llrekmbyxs .gt_from_md > :first-child {
  margin-top: 0;
}

#llrekmbyxs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#llrekmbyxs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#llrekmbyxs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#llrekmbyxs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#llrekmbyxs .gt_row_group_first td {
  border-top-width: 2px;
}

#llrekmbyxs .gt_row_group_first th {
  border-top-width: 2px;
}

#llrekmbyxs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#llrekmbyxs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#llrekmbyxs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#llrekmbyxs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#llrekmbyxs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#llrekmbyxs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#llrekmbyxs .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#llrekmbyxs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#llrekmbyxs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#llrekmbyxs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#llrekmbyxs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#llrekmbyxs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#llrekmbyxs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#llrekmbyxs .gt_left {
  text-align: left;
}

#llrekmbyxs .gt_center {
  text-align: center;
}

#llrekmbyxs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#llrekmbyxs .gt_font_normal {
  font-weight: normal;
}

#llrekmbyxs .gt_font_bold {
  font-weight: bold;
}

#llrekmbyxs .gt_font_italic {
  font-style: italic;
}

#llrekmbyxs .gt_super {
  font-size: 65%;
}

#llrekmbyxs .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#llrekmbyxs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#llrekmbyxs .gt_indent_1 {
  text-indent: 5px;
}

#llrekmbyxs .gt_indent_2 {
  text-indent: 10px;
}

#llrekmbyxs .gt_indent_3 {
  text-indent: 15px;
}

#llrekmbyxs .gt_indent_4 {
  text-indent: 20px;
}

#llrekmbyxs .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1.3:  NC state employment growth by sector 2001-2021 </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><strong>NC sector employment in 2021 and growth since 2001</strong><br><em>Sorted by growth since 2001</em></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="naics">naics</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="naics_abbr">naics_abbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="emp_2021">emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_emp_2021">pct_emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_emp_diff_since_2001">pct_emp_diff_since_2001</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rowid">rowid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="naics" class="gt_row gt_right">48----</td>
<td headers="naics_abbr" class="gt_row gt_center">Transpt</td>
<td headers="emp_2021" class="gt_row gt_right">159,091</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">59%</td>
<td headers="rowid" class="gt_row gt_right">1</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">54----</td>
<td headers="naics_abbr" class="gt_row gt_center">ProfSciTec</td>
<td headers="emp_2021" class="gt_row gt_right">245,485</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">55%</td>
<td headers="rowid" class="gt_row gt_right">2</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">62----</td>
<td headers="naics_abbr" class="gt_row gt_center">HealthSoc</td>
<td headers="emp_2021" class="gt_row gt_right">625,672</td>
<td headers="pct_emp_2021" class="gt_row gt_right">16%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">52%</td>
<td headers="rowid" class="gt_row gt_right">3</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">61----</td>
<td headers="naics_abbr" class="gt_row gt_center">Educ</td>
<td headers="emp_2021" class="gt_row gt_right">98,677</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">46%</td>
<td headers="rowid" class="gt_row gt_right">4</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">72----</td>
<td headers="naics_abbr" class="gt_row gt_center">AccFood</td>
<td headers="emp_2021" class="gt_row gt_right">402,561</td>
<td headers="pct_emp_2021" class="gt_row gt_right">10%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">43%</td>
<td headers="rowid" class="gt_row gt_right">5</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">56----</td>
<td headers="naics_abbr" class="gt_row gt_center">AdminWaste</td>
<td headers="emp_2021" class="gt_row gt_right">290,845</td>
<td headers="pct_emp_2021" class="gt_row gt_right">7%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">24%</td>
<td headers="rowid" class="gt_row gt_right">6</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">71----</td>
<td headers="naics_abbr" class="gt_row gt_center">ArtEntRec</td>
<td headers="emp_2021" class="gt_row gt_right">54,515</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">24%</td>
<td headers="rowid" class="gt_row gt_right">7</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">55----</td>
<td headers="naics_abbr" class="gt_row gt_center">Mgmt</td>
<td headers="emp_2021" class="gt_row gt_right">99,410</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">23%</td>
<td headers="rowid" class="gt_row gt_right">8</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">53----</td>
<td headers="naics_abbr" class="gt_row gt_center">RealEst</td>
<td headers="emp_2021" class="gt_row gt_right">58,890</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">21%</td>
<td headers="rowid" class="gt_row gt_right">9</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">44----</td>
<td headers="naics_abbr" class="gt_row gt_center">Retail</td>
<td headers="emp_2021" class="gt_row gt_right">512,706</td>
<td headers="pct_emp_2021" class="gt_row gt_right">13%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">16%</td>
<td headers="rowid" class="gt_row gt_right">10</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">52----</td>
<td headers="naics_abbr" class="gt_row gt_center">FinIns</td>
<td headers="emp_2021" class="gt_row gt_right">212,324</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">14%</td>
<td headers="rowid" class="gt_row gt_right">11</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">42----</td>
<td headers="naics_abbr" class="gt_row gt_center">Whlsale</td>
<td headers="emp_2021" class="gt_row gt_right">191,495</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">11%</td>
<td headers="rowid" class="gt_row gt_right">12</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">51----</td>
<td headers="naics_abbr" class="gt_row gt_center">Info</td>
<td headers="emp_2021" class="gt_row gt_right">86,053</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">8%</td>
<td headers="rowid" class="gt_row gt_right">13</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">22----</td>
<td headers="naics_abbr" class="gt_row gt_center">Util</td>
<td headers="emp_2021" class="gt_row gt_right">20,391</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">8%</td>
<td headers="rowid" class="gt_row gt_right">14</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">81----</td>
<td headers="naics_abbr" class="gt_row gt_center">OtherServ</td>
<td headers="emp_2021" class="gt_row gt_right">156,834</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">15</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">23----</td>
<td headers="naics_abbr" class="gt_row gt_center">Constr</td>
<td headers="emp_2021" class="gt_row gt_right">228,752</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">16</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">21----</td>
<td headers="naics_abbr" class="gt_row gt_center">MineOilGas</td>
<td headers="emp_2021" class="gt_row gt_right">3,464</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">−1%</td>
<td headers="rowid" class="gt_row gt_right">17</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">11----</td>
<td headers="naics_abbr" class="gt_row gt_center">AgForFish</td>
<td headers="emp_2021" class="gt_row gt_right">4,714</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">−23%</td>
<td headers="rowid" class="gt_row gt_right">18</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">31----</td>
<td headers="naics_abbr" class="gt_row gt_center">Manuf</td>
<td headers="emp_2021" class="gt_row gt_right">451,487</td>
<td headers="pct_emp_2021" class="gt_row gt_right">12%</td>
<td headers="pct_emp_diff_since_2001" class="gt_row gt_right">−35%</td>
<td headers="rowid" class="gt_row gt_right">19</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="6"><em>US Census County Business Patterns; analysis by Daniel Moul</em></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</div>
<p>Sorted by average wage:</p>
<div class="cell tbl-cap-location-bottom">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, naics_abbr, <span class="at">avg_wage_2021 =</span> avg_wage, <span class="at">emp_2021 =</span> emp, <span class="at">pct_emp_2021 =</span> pct_emp) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>avg_wage_2021) <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rowid =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="fu">md</span>(<span class="fu">glue</span>(<span class="st">"**NC sector employment 2021**"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"&lt;br&gt;*Sorted by sector average wage*"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"*US Census County Business Patterns; analysis by Daniel Moul*"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(emp_2021, avg_wage_2021),</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="at">columns =</span> pct_emp_2021, </span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-state-nc-emp-wage" class="anchored">

<div id="koyhapzehp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#koyhapzehp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#koyhapzehp thead, #koyhapzehp tbody, #koyhapzehp tfoot, #koyhapzehp tr, #koyhapzehp td, #koyhapzehp th {
  border-style: none;
}

#koyhapzehp p {
  margin: 0;
  padding: 0;
}

#koyhapzehp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#koyhapzehp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#koyhapzehp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#koyhapzehp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#koyhapzehp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#koyhapzehp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#koyhapzehp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#koyhapzehp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#koyhapzehp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#koyhapzehp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#koyhapzehp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#koyhapzehp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#koyhapzehp .gt_spanner_row {
  border-bottom-style: hidden;
}

#koyhapzehp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#koyhapzehp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#koyhapzehp .gt_from_md > :first-child {
  margin-top: 0;
}

#koyhapzehp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#koyhapzehp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#koyhapzehp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#koyhapzehp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#koyhapzehp .gt_row_group_first td {
  border-top-width: 2px;
}

#koyhapzehp .gt_row_group_first th {
  border-top-width: 2px;
}

#koyhapzehp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#koyhapzehp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#koyhapzehp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#koyhapzehp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#koyhapzehp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#koyhapzehp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#koyhapzehp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#koyhapzehp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#koyhapzehp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#koyhapzehp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#koyhapzehp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#koyhapzehp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#koyhapzehp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#koyhapzehp .gt_left {
  text-align: left;
}

#koyhapzehp .gt_center {
  text-align: center;
}

#koyhapzehp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#koyhapzehp .gt_font_normal {
  font-weight: normal;
}

#koyhapzehp .gt_font_bold {
  font-weight: bold;
}

#koyhapzehp .gt_font_italic {
  font-style: italic;
}

#koyhapzehp .gt_super {
  font-size: 65%;
}

#koyhapzehp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#koyhapzehp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#koyhapzehp .gt_indent_1 {
  text-indent: 5px;
}

#koyhapzehp .gt_indent_2 {
  text-indent: 10px;
}

#koyhapzehp .gt_indent_3 {
  text-indent: 15px;
}

#koyhapzehp .gt_indent_4 {
  text-indent: 20px;
}

#koyhapzehp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1.4:  NC state average wage by sector 2021 </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><strong>NC sector employment 2021</strong><br><em>Sorted by sector average wage</em></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="naics">naics</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_abbr">naics_abbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="avg_wage_2021">avg_wage_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="emp_2021">emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_emp_2021">pct_emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rowid">rowid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="naics" class="gt_row gt_right">52----</td>
<td headers="naics_abbr" class="gt_row gt_left">FinIns</td>
<td headers="avg_wage_2021" class="gt_row gt_right">114,024</td>
<td headers="emp_2021" class="gt_row gt_right">212,324</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">1</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">51----</td>
<td headers="naics_abbr" class="gt_row gt_left">Info</td>
<td headers="avg_wage_2021" class="gt_row gt_right">112,154</td>
<td headers="emp_2021" class="gt_row gt_right">86,053</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">2</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">22----</td>
<td headers="naics_abbr" class="gt_row gt_left">Util</td>
<td headers="avg_wage_2021" class="gt_row gt_right">108,108</td>
<td headers="emp_2021" class="gt_row gt_right">20,391</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">3</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">55----</td>
<td headers="naics_abbr" class="gt_row gt_left">Mgmt</td>
<td headers="avg_wage_2021" class="gt_row gt_right">104,025</td>
<td headers="emp_2021" class="gt_row gt_right">99,410</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">4</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">54----</td>
<td headers="naics_abbr" class="gt_row gt_left">ProfSciTec</td>
<td headers="avg_wage_2021" class="gt_row gt_right">90,430</td>
<td headers="emp_2021" class="gt_row gt_right">245,485</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">5</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">42----</td>
<td headers="naics_abbr" class="gt_row gt_left">Whlsale</td>
<td headers="avg_wage_2021" class="gt_row gt_right">82,657</td>
<td headers="emp_2021" class="gt_row gt_right">191,495</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">6</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">21----</td>
<td headers="naics_abbr" class="gt_row gt_left">MineOilGas</td>
<td headers="avg_wage_2021" class="gt_row gt_right">73,410</td>
<td headers="emp_2021" class="gt_row gt_right">3,464</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">7</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">23----</td>
<td headers="naics_abbr" class="gt_row gt_left">Constr</td>
<td headers="avg_wage_2021" class="gt_row gt_right">59,089</td>
<td headers="emp_2021" class="gt_row gt_right">228,752</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">8</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">53----</td>
<td headers="naics_abbr" class="gt_row gt_left">RealEst</td>
<td headers="avg_wage_2021" class="gt_row gt_right">58,796</td>
<td headers="emp_2021" class="gt_row gt_right">58,890</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">9</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">31----</td>
<td headers="naics_abbr" class="gt_row gt_left">Manuf</td>
<td headers="avg_wage_2021" class="gt_row gt_right">58,104</td>
<td headers="emp_2021" class="gt_row gt_right">451,487</td>
<td headers="pct_emp_2021" class="gt_row gt_right">12%</td>
<td headers="rowid" class="gt_row gt_right">10</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">62----</td>
<td headers="naics_abbr" class="gt_row gt_left">HealthSoc</td>
<td headers="avg_wage_2021" class="gt_row gt_right">56,471</td>
<td headers="emp_2021" class="gt_row gt_right">625,672</td>
<td headers="pct_emp_2021" class="gt_row gt_right">16%</td>
<td headers="rowid" class="gt_row gt_right">11</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">61----</td>
<td headers="naics_abbr" class="gt_row gt_left">Educ</td>
<td headers="avg_wage_2021" class="gt_row gt_right">49,027</td>
<td headers="emp_2021" class="gt_row gt_right">98,677</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">12</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">48----</td>
<td headers="naics_abbr" class="gt_row gt_left">Transpt</td>
<td headers="avg_wage_2021" class="gt_row gt_right">48,231</td>
<td headers="emp_2021" class="gt_row gt_right">159,091</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">13</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">11----</td>
<td headers="naics_abbr" class="gt_row gt_left">AgForFish</td>
<td headers="avg_wage_2021" class="gt_row gt_right">45,136</td>
<td headers="emp_2021" class="gt_row gt_right">4,714</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">14</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">56----</td>
<td headers="naics_abbr" class="gt_row gt_left">AdminWaste</td>
<td headers="avg_wage_2021" class="gt_row gt_right">42,286</td>
<td headers="emp_2021" class="gt_row gt_right">290,845</td>
<td headers="pct_emp_2021" class="gt_row gt_right">7%</td>
<td headers="rowid" class="gt_row gt_right">15</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">71----</td>
<td headers="naics_abbr" class="gt_row gt_left">ArtEntRec</td>
<td headers="avg_wage_2021" class="gt_row gt_right">40,880</td>
<td headers="emp_2021" class="gt_row gt_right">54,515</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">16</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">81----</td>
<td headers="naics_abbr" class="gt_row gt_left">OtherServ</td>
<td headers="avg_wage_2021" class="gt_row gt_right">34,543</td>
<td headers="emp_2021" class="gt_row gt_right">156,834</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">17</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">44----</td>
<td headers="naics_abbr" class="gt_row gt_left">Retail</td>
<td headers="avg_wage_2021" class="gt_row gt_right">30,474</td>
<td headers="emp_2021" class="gt_row gt_right">512,706</td>
<td headers="pct_emp_2021" class="gt_row gt_right">13%</td>
<td headers="rowid" class="gt_row gt_right">18</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">99----</td>
<td headers="naics_abbr" class="gt_row gt_left">OtherInd</td>
<td headers="avg_wage_2021" class="gt_row gt_right">25,248</td>
<td headers="emp_2021" class="gt_row gt_right">448</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">19</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">72----</td>
<td headers="naics_abbr" class="gt_row gt_left">AccFood</td>
<td headers="avg_wage_2021" class="gt_row gt_right">20,614</td>
<td headers="emp_2021" class="gt_row gt_right">402,561</td>
<td headers="pct_emp_2021" class="gt_row gt_right">10%</td>
<td headers="rowid" class="gt_row gt_right">20</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="6"><em>US Census County Business Patterns; analysis by Daniel Moul</em></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="cell tbl-cap-location-bottom">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>d_emp_sector_total_state_nc <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(d_infation_adj,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="st">"year"</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_wage_adjusted =</span> avg_wage <span class="sc">*</span> adj) <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wage_fist_year =</span> avg_wage_adjusted[year <span class="sc">==</span> <span class="fu">min</span>(year)],</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">wage_last_year =</span> avg_wage_adjusted[year <span class="sc">==</span> <span class="fu">max</span>(year)],</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="fu">c</span>(<span class="st">"naics"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wage_diff =</span> wage_last_year <span class="sc">-</span> wage_fist_year,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">pct_wage_diff =</span> wage_last_year <span class="sc">/</span> wage_fist_year <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(naics, naics_abbr, <span class="at">avg_wage_2021 =</span> wage_last_year, <span class="at">pct_avg_wage_diff_since_2001 =</span> pct_wage_diff, </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">emp_2021 =</span> emp, <span class="at">pct_emp_2021 =</span> pct_emp) <span class="sc">|&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>pct_avg_wage_diff_since_2001) <span class="sc">|&gt;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rowid =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="fu">md</span>(<span class="fu">glue</span>(<span class="st">"**NC sector average wage 2021 and difference since 2001**"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"&lt;br&gt;*Sorted by average wage difference*"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"*US Census County Business Patterns; analysis by Daniel Moul*"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.font.size =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(avg_wage_2021, emp_2021),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="at">columns =</span> <span class="fu">c</span>(pct_avg_wage_diff_since_2001, pct_emp_2021), </span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">decimals =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-state-nc-emp-wage-growth" class="anchored">

<div id="ftpsqjjlgy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ftpsqjjlgy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ftpsqjjlgy thead, #ftpsqjjlgy tbody, #ftpsqjjlgy tfoot, #ftpsqjjlgy tr, #ftpsqjjlgy td, #ftpsqjjlgy th {
  border-style: none;
}

#ftpsqjjlgy p {
  margin: 0;
  padding: 0;
}

#ftpsqjjlgy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 10px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ftpsqjjlgy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ftpsqjjlgy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ftpsqjjlgy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ftpsqjjlgy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ftpsqjjlgy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftpsqjjlgy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ftpsqjjlgy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ftpsqjjlgy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ftpsqjjlgy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ftpsqjjlgy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ftpsqjjlgy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ftpsqjjlgy .gt_spanner_row {
  border-bottom-style: hidden;
}

#ftpsqjjlgy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ftpsqjjlgy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ftpsqjjlgy .gt_from_md > :first-child {
  margin-top: 0;
}

#ftpsqjjlgy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ftpsqjjlgy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ftpsqjjlgy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ftpsqjjlgy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ftpsqjjlgy .gt_row_group_first td {
  border-top-width: 2px;
}

#ftpsqjjlgy .gt_row_group_first th {
  border-top-width: 2px;
}

#ftpsqjjlgy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftpsqjjlgy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ftpsqjjlgy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ftpsqjjlgy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftpsqjjlgy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftpsqjjlgy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ftpsqjjlgy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ftpsqjjlgy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ftpsqjjlgy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ftpsqjjlgy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ftpsqjjlgy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftpsqjjlgy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ftpsqjjlgy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ftpsqjjlgy .gt_left {
  text-align: left;
}

#ftpsqjjlgy .gt_center {
  text-align: center;
}

#ftpsqjjlgy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ftpsqjjlgy .gt_font_normal {
  font-weight: normal;
}

#ftpsqjjlgy .gt_font_bold {
  font-weight: bold;
}

#ftpsqjjlgy .gt_font_italic {
  font-style: italic;
}

#ftpsqjjlgy .gt_super {
  font-size: 65%;
}

#ftpsqjjlgy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ftpsqjjlgy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ftpsqjjlgy .gt_indent_1 {
  text-indent: 5px;
}

#ftpsqjjlgy .gt_indent_2 {
  text-indent: 10px;
}

#ftpsqjjlgy .gt_indent_3 {
  text-indent: 15px;
}

#ftpsqjjlgy .gt_indent_4 {
  text-indent: 20px;
}

#ftpsqjjlgy .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1.5:  NC state average wage growth by sector 2001-2021 </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><strong>NC sector average wage 2021 and difference since 2001</strong><br><em>Sorted by average wage difference</em></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="naics">naics</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="naics_abbr">naics_abbr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="avg_wage_2021">avg_wage_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_avg_wage_diff_since_2001">pct_avg_wage_diff_since_2001</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="emp_2021">emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_emp_2021">pct_emp_2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rowid">rowid</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="naics" class="gt_row gt_right">51----</td>
<td headers="naics_abbr" class="gt_row gt_left">Info</td>
<td headers="avg_wage_2021" class="gt_row gt_right">112,154</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">68%</td>
<td headers="emp_2021" class="gt_row gt_right">86,053</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">1</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">52----</td>
<td headers="naics_abbr" class="gt_row gt_left">FinIns</td>
<td headers="avg_wage_2021" class="gt_row gt_right">114,024</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">67%</td>
<td headers="emp_2021" class="gt_row gt_right">212,324</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">2</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">56----</td>
<td headers="naics_abbr" class="gt_row gt_left">AdminWaste</td>
<td headers="avg_wage_2021" class="gt_row gt_right">42,286</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">33%</td>
<td headers="emp_2021" class="gt_row gt_right">290,845</td>
<td headers="pct_emp_2021" class="gt_row gt_right">7%</td>
<td headers="rowid" class="gt_row gt_right">3</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">54----</td>
<td headers="naics_abbr" class="gt_row gt_left">ProfSciTec</td>
<td headers="avg_wage_2021" class="gt_row gt_right">90,430</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">32%</td>
<td headers="emp_2021" class="gt_row gt_right">245,485</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">4</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">42----</td>
<td headers="naics_abbr" class="gt_row gt_left">Whlsale</td>
<td headers="avg_wage_2021" class="gt_row gt_right">82,657</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">29%</td>
<td headers="emp_2021" class="gt_row gt_right">191,495</td>
<td headers="pct_emp_2021" class="gt_row gt_right">5%</td>
<td headers="rowid" class="gt_row gt_right">5</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">53----</td>
<td headers="naics_abbr" class="gt_row gt_left">RealEst</td>
<td headers="avg_wage_2021" class="gt_row gt_right">58,796</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">28%</td>
<td headers="emp_2021" class="gt_row gt_right">58,890</td>
<td headers="pct_emp_2021" class="gt_row gt_right">2%</td>
<td headers="rowid" class="gt_row gt_right">6</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">23----</td>
<td headers="naics_abbr" class="gt_row gt_left">Constr</td>
<td headers="avg_wage_2021" class="gt_row gt_right">59,089</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">26%</td>
<td headers="emp_2021" class="gt_row gt_right">228,752</td>
<td headers="pct_emp_2021" class="gt_row gt_right">6%</td>
<td headers="rowid" class="gt_row gt_right">7</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">11----</td>
<td headers="naics_abbr" class="gt_row gt_left">AgForFish</td>
<td headers="avg_wage_2021" class="gt_row gt_right">45,136</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">25%</td>
<td headers="emp_2021" class="gt_row gt_right">4,714</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">8</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">21----</td>
<td headers="naics_abbr" class="gt_row gt_left">MineOilGas</td>
<td headers="avg_wage_2021" class="gt_row gt_right">73,410</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">22%</td>
<td headers="emp_2021" class="gt_row gt_right">3,464</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">9</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">31----</td>
<td headers="naics_abbr" class="gt_row gt_left">Manuf</td>
<td headers="avg_wage_2021" class="gt_row gt_right">58,104</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">22%</td>
<td headers="emp_2021" class="gt_row gt_right">451,487</td>
<td headers="pct_emp_2021" class="gt_row gt_right">12%</td>
<td headers="rowid" class="gt_row gt_right">10</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">61----</td>
<td headers="naics_abbr" class="gt_row gt_left">Educ</td>
<td headers="avg_wage_2021" class="gt_row gt_right">49,027</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">21%</td>
<td headers="emp_2021" class="gt_row gt_right">98,677</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">11</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">72----</td>
<td headers="naics_abbr" class="gt_row gt_left">AccFood</td>
<td headers="avg_wage_2021" class="gt_row gt_right">20,614</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">20%</td>
<td headers="emp_2021" class="gt_row gt_right">402,561</td>
<td headers="pct_emp_2021" class="gt_row gt_right">10%</td>
<td headers="rowid" class="gt_row gt_right">12</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">81----</td>
<td headers="naics_abbr" class="gt_row gt_left">OtherServ</td>
<td headers="avg_wage_2021" class="gt_row gt_right">34,543</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">20%</td>
<td headers="emp_2021" class="gt_row gt_right">156,834</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">13</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">22----</td>
<td headers="naics_abbr" class="gt_row gt_left">Util</td>
<td headers="avg_wage_2021" class="gt_row gt_right">108,108</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">17%</td>
<td headers="emp_2021" class="gt_row gt_right">20,391</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">14</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">62----</td>
<td headers="naics_abbr" class="gt_row gt_left">HealthSoc</td>
<td headers="avg_wage_2021" class="gt_row gt_right">56,471</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">17%</td>
<td headers="emp_2021" class="gt_row gt_right">625,672</td>
<td headers="pct_emp_2021" class="gt_row gt_right">16%</td>
<td headers="rowid" class="gt_row gt_right">15</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">71----</td>
<td headers="naics_abbr" class="gt_row gt_left">ArtEntRec</td>
<td headers="avg_wage_2021" class="gt_row gt_right">40,880</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">9%</td>
<td headers="emp_2021" class="gt_row gt_right">54,515</td>
<td headers="pct_emp_2021" class="gt_row gt_right">1%</td>
<td headers="rowid" class="gt_row gt_right">16</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">55----</td>
<td headers="naics_abbr" class="gt_row gt_left">Mgmt</td>
<td headers="avg_wage_2021" class="gt_row gt_right">104,025</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">7%</td>
<td headers="emp_2021" class="gt_row gt_right">99,410</td>
<td headers="pct_emp_2021" class="gt_row gt_right">3%</td>
<td headers="rowid" class="gt_row gt_right">17</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">44----</td>
<td headers="naics_abbr" class="gt_row gt_left">Retail</td>
<td headers="avg_wage_2021" class="gt_row gt_right">30,474</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">0%</td>
<td headers="emp_2021" class="gt_row gt_right">512,706</td>
<td headers="pct_emp_2021" class="gt_row gt_right">13%</td>
<td headers="rowid" class="gt_row gt_right">18</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">48----</td>
<td headers="naics_abbr" class="gt_row gt_left">Transpt</td>
<td headers="avg_wage_2021" class="gt_row gt_right">48,231</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">−6%</td>
<td headers="emp_2021" class="gt_row gt_right">159,091</td>
<td headers="pct_emp_2021" class="gt_row gt_right">4%</td>
<td headers="rowid" class="gt_row gt_right">19</td></tr>
    <tr><td headers="naics" class="gt_row gt_right">99----</td>
<td headers="naics_abbr" class="gt_row gt_left">OtherInd</td>
<td headers="avg_wage_2021" class="gt_row gt_right">25,248</td>
<td headers="pct_avg_wage_diff_since_2001" class="gt_row gt_right">−20%</td>
<td headers="emp_2021" class="gt_row gt_right">448</td>
<td headers="pct_emp_2021" class="gt_row gt_right">0%</td>
<td headers="rowid" class="gt_row gt_right">20</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7"><em>US Census County Business Patterns; analysis by Daniel Moul</em></td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
</div>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cbp-establishments.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Establishments</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>